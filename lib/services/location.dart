import 'package:maps_toolkit/maps_toolkit.dart';
import 'indoorCheck.dart';

class LocationService {
  // Access indoorAreas list from the IndoorCheck instance
  List<String> get indoorAreas => IndoorCheck().indoorAreas;

  // Polygons representing the different areas on campus
  Map<String, List<LatLng>> areaPolygons = {
    "UniVillage": [
      LatLng(2.944514, 101.872084),
      LatLng(2.944312, 101.871548),
      LatLng(2.941710, 101.872734),
      LatLng(2.942091, 101.873497),
    ],
    "Block A; Trent Building": [
      LatLng(2.944887655557469, 101.87466649765035),
      LatLng(2.9450559237971587, 101.8747930361232),
      LatLng(2.944882993147977, 101.87505084702937),
      LatLng(2.945123677332844, 101.87521171623855),
      LatLng(2.9456604771609087, 101.8744910526192),
      LatLng(2.9454277891297544, 101.87431624865566),
      LatLng(2.945312636053101, 101.87451066322595),
      LatLng(2.9451232276899924, 101.8743635093948),
    ],
    "Block B and B1; Faculty of Science and Engineering": [
      LatLng(2.946151284156862, 101.87462970914191),
      LatLng(2.9456756110049875, 101.87467423754089),
      LatLng(2.945656282284274, 101.87451525172884),
      LatLng(2.9456965456777313, 101.87450974765954),
      LatLng(2.945626372946007, 101.8737882873784),
      LatLng(2.9459336725583505, 101.8737565732083),
      LatLng(2.9462198551927985, 101.87397627587441),
      LatLng(2.946218117905368, 101.87427305141253),
      LatLng(2.9461269824396923, 101.87428146760692),
    ],
    "Block C and C1; Faculty of Science and Engineering": [
      LatLng(2.9462598983773, 101.87468112445985),
      LatLng(2.946188508460105, 101.87458481284693),
      LatLng(2.9465236752307526, 101.87416805153485),
      LatLng(2.9468663469297556, 101.87438668579833),
      LatLng(2.946720814510724, 101.87455769787897),
      LatLng(2.94691327061983, 101.87473550137258),
      LatLng(2.9466076132120422, 101.87504679776559),
      LatLng(2.9464772546109437, 101.8749257286048),
      LatLng(2.9464307162240666, 101.87495559047608),
      LatLng(2.9462564564677005, 101.87481071580895),
      LatLng(2.9461496058640324, 101.87494772928521),
      LatLng(2.946052840097802, 101.87488459089383),
    ],
    "Block D; Faculty of Engineering": [
      LatLng(2.946337532565708, 101.87508852136646),
      LatLng(2.9470375557682327, 101.87494307785097),
      LatLng(2.9470942953503343, 101.87528547644793),
      LatLng(2.9463903535665064, 101.87545572088406),
      LatLng(2.9463076377178132, 101.8753885853198),
    ],
    "Block E; Faculty of Arts and Social Sciences": [
      LatLng(2.945797448095346, 101.87583715238152),
      LatLng(2.94597361660184, 101.87588680839563),
      LatLng(2.945793698829532, 101.87650334088622),
      LatLng(2.9454822352542913, 101.87642907839407),
      LatLng(2.9453789002034867, 101.87630750970762),
      LatLng(2.9456908588547526, 101.8755820937833),
      LatLng(2.945823807010287, 101.87560840977794),
    ],
    "Block F1; Central Teaching 1": [
      LatLng(2.945388517753994, 101.87564724907752),
      LatLng(2.9449705986614227, 101.87601793218195),
      LatLng(2.944888796935488, 101.87592389060762),
      LatLng(2.944811232683796, 101.8759843973677),
      LatLng(2.9445528817795674, 101.8755368138404),
      LatLng(2.9452249884320123, 101.87536316775727),
    ],
    "Block F2; Information Services - IT Support": [
      LatLng(2.9454241880753367, 101.87566497064537),
      LatLng(2.945589406217013, 101.8758291425675),
      LatLng(2.945245115084999, 101.87619694357576),
      LatLng(2.9450718875385937, 101.87602409049762),
    ],
    "Block F3; Central Teaching 2": [
      LatLng(2.9454770592562287, 101.87671549096441),
      LatLng(2.945370780487984, 101.87681286011767),
      LatLng(2.94523719900467, 101.87680378535437),
      LatLng(2.9448941610076695, 101.87646670324972),
      LatLng(2.94494313931605, 101.87629297341155),
      LatLng(2.944876113968013, 101.87627910683115),
      LatLng(2.9448887466930014, 101.87622693170078),
      LatLng(2.9450196515912634, 101.87621687826477),
      LatLng(2.9453348056711874, 101.87642362747297),
    ],
    "Block F4; Central Teaching 3": [
      LatLng(2.9459290766102444, 101.87696675775608),
      LatLng(2.9457414404002202, 101.87665575039144),
      LatLng(2.9454325679011175, 101.87678517268623),
      LatLng(2.945614145710702, 101.87698594228772),
      LatLng(2.945799360002731, 101.87701524313786),
    ],
    "Block G; Library": [
      LatLng(2.9449215209005692, 101.87621807163073),
      LatLng(2.944754380693088, 101.87642533231447),
      LatLng(2.944458596650581, 101.87614444827767),
      LatLng(2.9446617106242043, 101.87596694302476),
    ],
    "Block H; Student Association": [
      LatLng(2.944338638603605, 101.87558098533539),
      LatLng(2.9444128598285655, 101.87598844523588),
      LatLng(2.9440631846341816, 101.8760859839864),
      LatLng(2.944119648584017, 101.87628424583288),
      LatLng(2.9439299776566674, 101.87674373438985),
      LatLng(2.9437545583248976, 101.87678275299373),
      LatLng(2.943477969616191, 101.87658941841728),
      LatLng(2.943582279860088, 101.87642403321054),
      LatLng(2.9435227608248016, 101.87637673445174),
      LatLng(2.943614157085727, 101.87622009224535),
      LatLng(2.943560451177185, 101.87578025195954),
      LatLng(2.9439278273068283, 101.87558011582983),
      LatLng(2.9440837427654563, 101.87553425724562),
      LatLng(2.9441067064647024, 101.8756362239111),
    ],
    "Block I1; Tioman Hall": [
      LatLng(2.9428157948061364, 101.87597433536409),
      LatLng(2.9434265500744092, 101.87581085402286),
      LatLng(2.9434810810570733, 101.87602979609842),
      LatLng(2.943488601118465, 101.87621876501468),
      LatLng(2.9433377439822506, 101.87643099087684),
      LatLng(2.943177167101002, 101.87651980152076),
      LatLng(2.9429541213684156, 101.87658114779099),
    ],
    "Block I2; Langkawi Hall": [
      LatLng(2.942739862040054, 101.87599142890579),
      LatLng(2.942878025553049, 101.87660611523854),
      LatLng(2.942638660321179, 101.87666054929849),
      LatLng(2.942447120661934, 101.87665181335113),
      LatLng(2.9422405231654984, 101.8765271314103),
      LatLng(2.9421396176105636, 101.87636922141549),
      LatLng(2.942092136318969, 101.87614163291701),
    ],
    "Block I3; Redang Hall": [
      LatLng(2.94268135363197, 101.87589514933835),
      LatLng(2.9420826332583627, 101.87608112676915),
      LatLng(2.9420190677766977, 101.8758653781229),
      LatLng(2.9420385024202793, 101.87568128671033),
      LatLng(2.9421595031890644, 101.87547503333195),
      LatLng(2.9423179181784915, 101.87536459105358),
      LatLng(2.942548289348468, 101.87530992871902),
    ],
    "Block I4; Pangkor Hall": [
      LatLng(2.941903820029862, 101.87729986536556),
      LatLng(2.942499563761582, 101.87718586477945),
      LatLng(2.9424492309522763, 101.87695792530451),
      LatLng(2.942345187648921, 101.8768035791672),
      LatLng(2.9421444846412537, 101.8766743136324),
      LatLng(2.9419561127774783, 101.87666152984788),
      LatLng(2.941725654895076, 101.87671482356805),
    ],
    "Block I5; Kapas Hall": [
      LatLng(2.9415945616003767, 101.87785989015138),
      LatLng(2.941776054341731, 101.87844011150163),
      LatLng(2.9415159486553386, 101.87849567252854),
      LatLng(2.941334013004858, 101.87847810546856),
      LatLng(2.941122723831298, 101.87835629993364),
      LatLng(2.9410284347871243, 101.87819906409264),
      LatLng(2.940971747953757, 101.877960176528),
    ],
    "Block J1; Sipadan Hall": [
      LatLng(2.947646220488388, 101.87626057362104),
      LatLng(2.9476004738789, 101.87616212410565),
      LatLng(2.947874287813868, 101.87590365298865),
      LatLng(2.9479857205354016, 101.8760271550455),
      LatLng(2.947839405516226, 101.87619067442891),
      LatLng(2.9480430094631815, 101.87624357932154),
      LatLng(2.947989899795954, 101.87640840774009),
      LatLng(2.9477925125859072, 101.87637452017331),
      LatLng(2.9478493843681592, 101.87660000360508),
      LatLng(2.9477084902421202, 101.87665433656043),
      LatLng(2.9475700870882275, 101.87632005886748),
    ],
    "Block J2; Mabul Hall": [
      LatLng(2.9484596031550705, 101.87615021283361),
      LatLng(2.9485640355283436, 101.8761821440956),
      LatLng(2.948578404505499, 101.87656829184014),
      LatLng(2.948370706231965, 101.87656929313304),
      LatLng(2.9483652554317015, 101.87634791128201),
      LatLng(2.9481564423557622, 101.87645382139101),
      LatLng(2.948077026351115, 101.87634791470313),
      LatLng(2.94827474392803, 101.87618772171257),
      LatLng(2.9480268136651553, 101.87610802336354),
      LatLng(2.9480742626048073, 101.87596794270819),
      LatLng(2.948468363111585, 101.87606222275011),
    ],
    "Block J3; Lankayan Hall": [
      LatLng(2.9484067177277553, 101.87703324973451),
      LatLng(2.9483942917635657, 101.8771116511795),
      LatLng(2.9479837029064146, 101.87703323568807),
      LatLng(2.948003557290746, 101.87688660392645),
      LatLng(2.9482452987958383, 101.8769102052028),
      LatLng(2.948171610882439, 101.87670295128444),
      LatLng(2.948332838951032, 101.87660827006246),
      LatLng(2.9484368157585985, 101.87682395442124),
      LatLng(2.9485611322892247, 101.87664849298785),
      LatLng(2.948723434249613, 101.87672223464249),
      LatLng(2.948547162825223, 101.8770414387847),
    ],
    "Block J4; Rawa Hall": [
      LatLng(2.9482003474003196, 101.87744393768929),
      LatLng(2.9482591836166674, 101.87752480261946),
      LatLng(2.9480359075414735, 101.87785529135331),
      LatLng(2.947904584805342, 101.87776238605018),
      LatLng(2.9480178520091935, 101.8775600097514),
      LatLng(2.947772927320545, 101.87757021036397),
      LatLng(2.9477620802733213, 101.87742235476237),
      LatLng(2.94799982701677, 101.87738588919),
      LatLng(2.947854192309323, 101.87719091572984),
      LatLng(2.947972949603887, 101.87708897246257),
      LatLng(2.948272599264277, 101.87736016645046),
    ],
    "Block J5; Gemia Hall": [
      LatLng(2.947576134636362, 101.87804983187225),
      LatLng(2.947473034869815, 101.87807548471218),
      LatLng(2.9472557254101215, 101.87777547464256),
      LatLng(2.947377642623728, 101.8776743237798),
      LatLng(2.947531004712607, 101.87785124569466),
      LatLng(2.9476115258597604, 101.87766098634205),
      LatLng(2.9477676592683335, 101.87770148835244),
      LatLng(2.94770084882037, 101.87792047254833),
      LatLng(2.9479243408382243, 101.87785676759623),
      LatLng(2.9479806661285703, 101.87800848206398),
      LatLng(2.947631497872561, 101.87812476549402),
    ],
    "Block J6; Perhentian Hall": [
      LatLng(2.94734328628171, 101.87705392583115),
      LatLng(2.947372516261343, 101.87694910699057),
      LatLng(2.947711630204439, 101.87689741987566),
      LatLng(2.947734807177738, 101.87705128842273),
      LatLng(2.9475344776508003, 101.8770846681307),
      LatLng(2.9477002722493637, 101.87724925141558),
      LatLng(2.9475469721671117, 101.87736269237904),
      LatLng(2.947406235678093, 101.87722563898757),
      LatLng(2.947341932356559, 101.87744782057476),
      LatLng(2.9471773512493487, 101.87741663573536),
      LatLng(2.947254436289815, 101.8770567675098),
    ],
    "Block SH 1; Nexus": [
      LatLng(2.9481959354593608, 101.87647220015643),
      LatLng(2.9482239774669807, 101.87654820017902),
      LatLng(2.9481393819649826, 101.8767392968671),
      LatLng(2.9480621619592298, 101.87676879842964),
      LatLng(2.9478923457129165, 101.87669396532472),
      LatLng(2.9478671403901804, 101.8766167191193),
      LatLng(2.947958311358078, 101.87642157637),
      LatLng(2.9480300465101537, 101.87639618431173),
    ],
    "Block SH 2; Radius": [
      LatLng(2.947578543446505, 101.87736721115589),
      LatLng(2.9475020582971263, 101.87735885458441),
      LatLng(2.9473309979216262, 101.87749674652059),
      LatLng(2.9473241047578598, 101.87757455475042),
      LatLng(2.947439461650366, 101.87771542558899),
      LatLng(2.947515641770041, 101.87772173432484),
      LatLng(2.947688523766986, 101.87757902720318),
      LatLng(2.947694302730027, 101.87750401443257),
    ],
    "Block K; Sports Complex": [
      LatLng(2.942470475882734, 101.8778170946128),
      LatLng(2.9434034640117694, 101.87758249207913),
      LatLng(2.9439479129160313, 101.87765534711855),
      LatLng(2.943524979361495, 101.87800468334439),
      LatLng(2.942538584263977, 101.87821153577362),
    ],
    "Block L1; Warden House": [
      LatLng(2.943267796442185, 101.87555680019987),
      LatLng(2.9433846931830403, 101.87552057481706),
      LatLng(2.9434222224721474, 101.87561677502529),
      LatLng(2.9433860867565285, 101.87571422746572),
      LatLng(2.9433082295850532, 101.87574066007276),
    ],
    "Block L2; Warden House (Tioman Lodge)": [
      LatLng(2.943267796442185, 101.87555680019987),
      LatLng(2.9431284534248077, 101.87559716875171),
      LatLng(2.9431422727213588, 101.8756668940337),
      LatLng(2.9432232381547436, 101.87574771896898),
      LatLng(2.9433082295850532, 101.87574066007276),
    ],
    "Block L3; Warden House (Langkawi Lodge)": [
      LatLng(2.9429529432002646, 101.87563247978636),
      LatLng(2.943084808268315, 101.87559626787935),
      LatLng(2.943116770420662, 101.87569784954404),
      LatLng(2.9430918073032597, 101.87578538163896),
      LatLng(2.943004543084598, 101.87581436730078),
    ],
    "Block L4; HR Office (Redang Lodge)": [
      LatLng(2.9429529432002646, 101.87563247978636),
      LatLng(2.9428212009077446, 101.8756714089228),
      LatLng(2.9428392467730946, 101.87574922561214),
      LatLng(2.942917204610451, 101.8758199278047),
      LatLng(2.943004543084598, 101.87581436730078),
    ],
    "Block VH 1; Visitor House 1 (Pedu)": [
      LatLng(2.942910589780147, 101.87552319579437),
      LatLng(2.9429323915809933, 101.8756217408362),
      LatLng(2.942821301872104, 101.87564807534241),
      LatLng(2.9427936032537594, 101.87555226673467),
    ],
    "Block VH 2; Visitor House 2 (Titiwangsa)": [
      LatLng(2.942910589780147, 101.87552319579437),
      LatLng(2.942888439963969, 101.87542151267427),
      LatLng(2.9427894910775256, 101.87544799791982),
      LatLng(2.9427936032537594, 101.87555226673467),
    ],
    "Block VH 3; Visitor House 3 (Chini)": [
      LatLng(2.942842605266348, 101.87529878787868),
      LatLng(2.942875894440192, 101.8754020125818),
      LatLng(2.942770060792255, 101.87543547843656),
      LatLng(2.942732599792143, 101.87532386747061),
    ],
    "Block VH 4; Visitor House 4 (Kenyir)": [
      LatLng(2.942842605266348, 101.87529878787868),
      LatLng(2.9428190618427594, 101.87519225358541),
      LatLng(2.9427090840589165, 101.87521317155066),
      LatLng(2.942732599792143, 101.87532386747061),
    ],
    "Block M; Islamic Centre": [
      LatLng(2.94275139656796, 101.87463464964641),
      LatLng(2.94249020289465, 101.8745379649463),
      LatLng(2.942367788626943, 101.87462855697514),
      LatLng(2.942275098701181, 101.87485455360202),
      LatLng(2.9423693435536324, 101.87501834566551),
      LatLng(2.942547798738424, 101.87509281381293),
      LatLng(2.9427199049621175, 101.87499963345802),
      LatLng(2.942801024296867, 101.87480772925767),
    ],
    "Block N; Engineering Research Building": [
      LatLng(2.9465315109656034, 101.87609255963928),
      LatLng(2.946752407787955, 101.87637502288952),
      LatLng(2.946283632093438, 101.87671821605448),
      LatLng(2.9460532703281337, 101.87645122190955),
    ],
    "Engineering Mixing Lab": [
      LatLng(2.947106234344856, 101.87571730373566),
      LatLng(2.9470960413253824, 101.87601992934302),
      LatLng(2.9467733856259852, 101.8760104365407),
      LatLng(2.946787880339496, 101.87566511156363),
    ],
    "Creche; Taska, Childcare Centre": [
      LatLng(2.942837436951809, 101.8751953757726),
      LatLng(2.942991782061376, 101.87516297639601),
      LatLng(2.9430568520961553, 101.87559571024782),
      LatLng(2.9432289411063066, 101.87543872958453),
      LatLng(2.942891677733959, 101.87537624234375),
    ],
  };

  String isInsideArea(double latitude, double longitude) {
    // Create a LatLng object for the given coordinates
    LatLng point = LatLng(latitude, longitude);

    // Check if the point is inside any of the indoor areas' polygons
    for (var area in indoorAreas) {
      // Check if the area exists in areaPolygons
      if (areaPolygons.containsKey(area)) {
        // Check if the point is inside the polygon
        if (PolygonUtil.containsLocation(point, areaPolygons[area]!, true)) {
          return area; // The coordinates are inside an indoor area, return the area name
        }
      }
    }

    return "Outside Specified Areas"; // The coordinates are not inside any specific area
  }
}
